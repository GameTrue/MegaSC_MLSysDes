PROMPT_TEMPLATE = r"""
Внимательно рассмотри изображение диаграммы. Прочитай каждый текст точь‑в‑точь.

Верни только:
diagram_type: <bpmn|flowchart|equipment|other>
<markdown table>

Правила таблицы:
- flowchart (простая последовательность): одна колонка "Блок".
- bpmn/swimlanes: колонки "Действие" и "Роль" (если ролей несколько — отдельные строки).
- equipment/архитектура: колонки "Элемент" и "Тип/Класс" (если видно), иначе только "Элемент".
- другой тип — до 3 колонок с понятными заголовками.
- Порядок строк СТРОГО по стрелкам потока: начинай со стартового события и иди по линиям/стрелкам. Не сортируй визуально, следуй потоку. При развилках сначала ветка с подписью "да/yes", потом "нет/no", затем остальные.
- Каждая строка = уникальный узел. Максимум 40 строк, без дублей.
- Если текста нет — клетка пустая.
- Таблица должна быть валидной markdown, без JSON, без комментариев.
- не нужно писать в таблицу то, что написано на стрелочках
- строго следуй линиям и стрелкам для порядка блоков
"""
